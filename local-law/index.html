<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Local Law 97</title>
   	<script src="https://d3js.org/d3.v4.min.js"></script>
   	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
    <style>

		p {
			font-family: 'Open Sans', sans-serif;
			color:#353536;
			font-weight:300;
		}

    ol {
			font-family: 'Open Sans', sans-serif;
			color:#353536;
			font-weight:400;
		}

		svg {
			width:100%;
			height:600px;
			padding-left:5%;
			padding-right:50px;
		}

		h1 {
			font-size:60px;
			font-weight:200;
			line-height:1.3;
		}

    /* $firstvisualdiv figure {
    display: inline-grid;
    } */

    /* figure img {
        vertical-align: middle;
    } */

    #firstvisualdiv figcaption {
    /* font-family: Verdana, Geneva, sans-serif; */
    font-size: 8px;
    /* text-shadow: none; */
    /* color: black; */
    text-align: center;
    word-wrap:  break-word;
    width:400px;
    }
    #firstvisualdiv, #secondvisualdiv {
        position: -webkit-sticky;
        position: sticky;
        top: -1px;
        }

    .text1opacity, .text2opacity, .text3opacity {
        font-size:30px;
        fill:blue;
        opacity:0;
        transition: opacity 0.8s;
        -webkit-transition: opacity 0.8s;
        }

    .active {
        opacity:1;
        }


	</style>
</head>
<body>
  <main role="main" class="container" >
     <div class="row">
     	<div>
     		<br><br>
     		<h1>What Are the Implications of New York City's Local Law 97?</h1>
        <h6>Amber Kim, Laura Kim, and Jordan Owen</p>
        <hr>
     	</div>
     </div>
     <!--Intro/Background -->
     <div class="row">
       <div class="col-5">
         <br>
         <p> In 2019, the New York City (NYC) enacted Local Law 97 (LL97), an ambitious law that sets emissions reductions limits for NYC buildings as
           part of the city's overarching goal of reducing emissions by 80% by 2050. Local Law 97 is important because bulidings are responsible
           for two-thirds of the city's emissions. Under this law, buildings over 25,000 sq ft will have to meet strict emissions limits starting
           in 2024.</p>
           <br>
           <p>As important as Local Law 97 is for NYC's fight against climate change, we also recognize that achieving the goals set out in LL97 will be
             difficult. Approximately 60% of NYC's building area is covered under the law, translating to about 50,000 buildings. Updating and retrofiting
             50,000 bulidings in the next four years it a tall task that can be difficult to comprehend. Thousands of landlords will have to take action and
             NYC will have to implement programs to support building retrofits and monitor progress. </p>
             <br>
             <p>Therefore, we our project aims to visualize the
             implications of LL97 by answering three sub-questions:
             <ol>
             <li>What amount of GHG reduction is required for each property owner to comply with Local Law 97?</li>
             <li>What are the financial implications for building owners to comply with Local Law 97?</li>
             <li>What are the trends/patterns in building GHG emissions in NYC? </li>
           </ol>
           <br><br>
            </p>
            <h5>Q1: What amount of GHG reduction is required for each property owner to comply with Local Law 97?</h3>
              <br>
           <p>First, we will map the amount of emissions reduction required for each covered building in NYC by 2024
             and 2030 in order to get a grasp of the magnitude of work needed to meet the LL97 goals. The reductions
           requirements will be expressed as a percentage (ex: building A must reduce emissions by 30% from 2018 levels
           to meet the 2024 limit). </p>
             <br>
             <h5>Q2:What are the financial implications for building owners to comply with Local Law 97?</h3>
               <br>
            <p>We will also calculate the financial implications for property owners. First, we will calculate
             the penalty amount for a building that takes no action. Second, we will use retrofit cost estimates from
             the Urban Green Council's NYC building retrofit study to estimate how much a  retrofit for each building
             may cost to meet the LL97 limits. </p>
             <br><br><br>
         </div>
           <div class="col-7">
             <div id="firstvisualdiv" >
              <center>
                <figure>
                <img src="nyc_buildings.jpg"  width="400" height="270">
                <figcaption>Image source: https://therealdeal.com/2018/05/15/surprise-nyc-remains-most-expensive-place-to-build-in-the-world-report/
                </figcaption>
              </figure>
             <figure>
             <img src="nyc-emissions.png"  width="380" height="300">
             <figcaption>*Millions of metric tons of CO2 by source<br>
               Source: Urban Green Council
               </figcaption>
           </figure>
             </center>
         <br><br><br>
                 </div>
           </div>
         </div>
       </div>

        <!-- First Visualization -->
        <div class="row">
          <div class="col-5">
            <h5>Map Visualization</h3>
              <br>
              <p>The required emissions reductions will be visualized on a an interactive 3D map of NYC with each building's reduction
                represented as a vertical bar. The taller the bar, the greater the percentage. Each building will also be
                clickable, with a popup window containing attributes such as address, emissions reductions requirements for
                2024 and 2030, building class, penalty for no action, and estimated retrofits cost. This map will
                serve as a tool to understand the spatial spread of building retrofit needs in the city for policymakers
                and for property owners to learn about their building's requirements and potential costs.
             </p>
             <br>
             <p>The graphics on the right are an example of what we intend to create. Similar to the first image, our map will
               have vertical bars that represent the percentage of emissions reduction required for each building. The map will
               also toggle between 2024 and 2030 (the two LL97 deadlines). We will also allow users to filter by attributes for
               closer exploration of the city and the buildings.
             </p>
             <br>
             <p>The second image is an example of a popup window that will appear when you click on a building. This is where the
               financial implication data from Q2 will be stored.
             </p>
           </div>
        <div class="col-7">
        <div id="firstvisualdiv" >
       <center>
         <img src="visual1_ex.png"  width="400" height="450">
         <br><br>
           <img src="visual2_ex.png"  width="350" height="200">
           </center>
       </div>
     </div>
</div>
<!-- <Q3 - case studies> -->
      <div class="row">
       <div class="col-5">
         <br><br>
         <h5>Q3: What are the trends/patterns in building GHG emissions in NYC? </h5>
         <br>
        <p>After creating the exploratory map, we will look for interesting trend and patterns among the buildings. Perhaps there in
        one particular neighborhood with many inefficient buildings. Or maybe building market value, land use, age, or other attributes
      correlate to ineffiencies. We plan to identify three such cases and conduct a case study analysis of the trend.</p>
        <br><br>
      </div>
    </div>
    <div class="row">
     <div class="col-5">
       <h5>Project Wireframe </h5>
       <br>
       <p>On the right is a wireframe of our project. As described, we will create a map visualizing the building emissions reduction
       percentages as bars on a map of NYC. Then we conduct zoom in case studies of interesting trends we observed.</p>
       <br><br>
       <h5>Project Goals</h5>
       <p>We hope that this project of visualizing the implications of LL97 will be useful for both NYC officials and property owners
         as they navigate how to take action to ensure that goals are met. Officials might be able to gain insight into the spatial
         distribution of building retrofit needs as well as other patterns that may require more tailored support. Property owners
         can use the map to understand the magnitude of work required on their buildings and reflect on the related costs.
         <br><br><br>
       </div>
       <div class="col-7">
         <div id="firstvisualdiv" >
           <center>
             <img src="wireframe_1.png">
           <!-- </center> -->
             <img src="wireframe_2.png">
           </center>
             <center><img src="wireframe_3.png"> </center>

         </div>
     </div>
   </div>
  </main><!-- /.container -->
</body>

<script type="text/javascript">

var img=document.createElement("img");
   img.src="wireframe_1.png"
   img.id="pic1"
   document.getElementById("image").appendChild(img)

var svg = d3.select("div#firstvisualdiv")
						.append("svg")
						.attr("viewBox", "0 0 1200 800")
  						.attr("preserveAspectRatio", "xMinYMid")

var rectangles = [[200, 0, 800, 600, "gray"],[260, 50, 200, 500, "lightgray"],[500, 50, 430, 500, "lightgray"]];

			svg.selectAll("rect")
			   .data(rectangles)
			   .enter()
			   .append("rect")
			   .attr("stroke", "black")
			   .attr("stroke-width", 1)
			   .attr("x", function(d) {
			   		return d[0];})
			   .attr("y", function(d) {
			   		return d[1];})
			   .attr("width", function(d) {
			   		return d[2];})
			   .attr("height", function(d) {
			   		return d[3];})
			   .attr("fill", function(d) {
			   		if (d[4]== "gray")
			   			return "gray";
			   		else
			   			return "#bdbdbd";})


			    svg.append("text")
    			.attr("x", 360)
    			.attr("y", 150)
    			.attr("text-anchor", "middle")
    			.text("text column")
    			.attr("class", "text1opacity")

    			svg.append("text")
    			.attr("x", 360)
    			.attr("y", 200)
    			.attr("text-anchor", "middle")
    			.text("class='col-4'")
    			.attr("class", "text1opacity")

    			svg.append("text")
    			.attr("x", 710)
    			.attr("y", 150)
    			.attr("text-anchor", "middle")
    			.text("visuals column")
    			.attr("class", "text2opacity")

				svg.append("text")
    			.attr("x", 710)
    			.attr("y", 200)
    			.attr("text-anchor", "middle")
    			.text("class='col-8'")
    			.attr("class", "text2opacity")


var svg = d3.select("div#secondvisualdiv")
						.append("svg")
						.attr("viewBox", "0 0 1200 800")
  						.attr("preserveAspectRatio", "xMinYMid")

var rectangles = [[200, 00, 800, 750, "gray"],[260, 50, 200, 80, "lightgray"],[260, 150, 200, 80, "lightgray"],[260, 250, 200, 80, "lightgray"],[260, 350, 200, 80, "lightgray"],[260, 450, 200, 80, "lightgray"],[260, 550, 200, 80, "lightgray"],[260, 650, 200, 80, "lightgray"],[500, 50, 430, 350, "lightgray"],[500, 450, 430, 280, "lightgray"]];

			svg.selectAll("rect")
			   .data(rectangles)
			   .enter()
			   .append("rect")
			   .attr("stroke", "black")
			   .attr("stroke-width", 1)
			   .attr("x", function(d) {
			   		return d[0];})
			   .attr("y", function(d) {
			   		return d[1];})
			   .attr("width", function(d) {
			   		return d[2];})
			   .attr("height", function(d) {
			   		return d[3];})
			   .attr("fill", function(d) {
			   		if (d[4]== "gray")
			   			return "gray";
			   		else
			   			return "#bdbdbd";})

			svg.append("text")
    			.attr("x", 350)
    			.attr("y", 100)
    			.attr("text-anchor", "middle")
    			.text("ID='text1'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 200)
    			.attr("text-anchor", "middle")
    			.text("ID='text2'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 300)
    			.attr("text-anchor", "middle")
    			.text("ID='text3'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 400)
    			.attr("text-anchor", "middle")
    			.text("ID='text4'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 500)
    			.attr("text-anchor", "middle")
    			.text("ID='text5'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 600)
    			.attr("text-anchor", "middle")
    			.text("ID='text6'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 700)
    			.attr("text-anchor", "middle")
    			.text("ID='text7'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 700)
    			.attr("y", 200)
    			.attr("text-anchor", "middle")
    			.text("ID='firstvisualdiv'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 700)
    			.attr("y", 580)
    			.attr("text-anchor", "middle")
    			.text("ID='secondvisualdiv'")
    			.attr("class", "text3opacity")


    		svg.append("text")
    			.attr("x", 700)
    			.attr("y", 250)
    			.attr("text-anchor", "middle")
    			.text("position: sticky")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 700)
    			.attr("y", 630)
    			.attr("text-anchor", "middle")
    			.text("position: sticky")
    			.attr("class", "text3opacity")

    var controller = new ScrollMagic.Controller();

          new ScrollMagic.Scene({triggerElement: "#text1"})
              .setClassToggle(".text1opacity", "active")
              .addTo(controller);

          new ScrollMagic.Scene({triggerElement: "#text2"})
              .setClassToggle(".text2opacity", "active")
              .addTo(controller);

          new ScrollMagic.Scene({triggerElement: "#text3"})
              .setClassToggle(".text3opacity", "active")
              .addTo(controller);
</script>
</body>
</html>

<!-- Extra working code to save -->
<!-- Research questions -->
<!-- <div class="row">
 <div class="col-5"> -->
  <!-- <p>As important as Local Law 97 is for NYC's fight against climate change, we also recognize that achieving the goals set out in LL97 will be
    difficult. Approximately 60% of NYC's building area is covered under the law, translating to about 50,000 buildings. Updating and retrofiting
    50,000 bulidings in the next four years it a tall task that can be difficult to comprehend. Thousands of landlords will have to take action and
    NYC will have to implement programs to support building retrofits and monitor progress. </p>
    <br>
    <p>Therefore, we our project aims to visualize the
    implications of LL97 by answering three sub-questions:
    <ol>
    <li>What amount of GHG reduction is required for each property owner to comply with Local Law 97?</li>
    <li>What are the financial implications for building owners to comply with Local Law 97?</li>
    <li>What are the trends/patterns in building GHG emissions in NYC? </li>
  </ol>
  <br><br>
   </p>
 </div> -->
   <!-- <div class="col-7"> -->
   <!-- <div id="firstvisualdiv" >
  <center>
    <figure>
    <img src="nyc-emissions.png"  width="380" height="300">
    <figcaption>*Millions of metric tons of CO2 by source
      </figcaption>
  </figure>
    </center>
  </div>
  </div>
</div> -->
<!-- Section: Quetion 1 -->
<!-- <div class="row">
  <div class="col-5">
    <h5>Q1: What amount of GHG reduction is required for each property owner to comply with Local Law 97?</h3>
      <br>
   <p>First, we will map the amount of emissions reduction required for each covered building in NYC by 2024
     and 2030 in order to get a grasp of the magnitude of work needed to meet the LL97 goals. The reductions
   requirements will be expressed as a percentage (ex: building A must reduce emissions by 30% from 2018 levels
   to meet the 2024 limit). </p>
     <br>
     <h5>Q2:What are the financial implications for building owners to comply with Local Law 97?</h3>
       <br>
    <p>We will also calculate the financial implications for property owners. First, we will calculate
     the penalty amount for a building that takes no action. Second, we will use retrofit cost estimates from
     the Urban Green Council's NYC building retrofit study to estimate how much a  retrofit for each building
     may cost to meet the LL97 limits. </p>
      <br>
    </div>
 </div> -->
